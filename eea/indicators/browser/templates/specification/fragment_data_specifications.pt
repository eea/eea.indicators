<tal:defs
	tal:define="region_name string:data_spec;
	region_update_handler string:fragment_data_specifications;
	submit_handler string:simple_edit;
	imsutils nocall:context/@@indicator_utils;
	tooltip_macro context/indicators_macros/macros/tooltip;
	portal_url context/portal_url;
	related_view nocall:context/@@related_items;

	field python:context.schema['relatedItems'];
	value python:related_view.get_uids(['Data', 'ExternalDataSpec']);
	fieldName string:relatedItems;
	realFieldName string:relatedItemsData;
	">

	<metal:macro metal:use-macro="context/indicators_macros/macros/active_region">
		<metal:slot metal:fill-slot="content">

			<div tal:content="value" />

			<div class="logic_group">
				<h2 id="data_specifications" tal:define="tooltip string:Data specification description">
					<span metal:use-macro="tooltip_macro" /> Data specifications
				</h2>

				<div class="portalMessage" tal:condition="python:not value">
					You need to reference at least one Data Spec
				</div>

				<div metal:use-macro="context/indicators_macros/macros/active_relation_field" />

			</div>
		</metal:slot>
	</metal:macro>
</tal:defs>

